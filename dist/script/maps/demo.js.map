{"version":3,"names":[],"mappings":"","sources":["demo.js"],"sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _mock = __webpack_require__(5);\n\n\tvar mock = _interopRequireWildcard(_mock);\n\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n\t(function ($) {\n\n\t    var api_ns = 'api/v1';\n\n\t    $(function () {\n\n\t        // Feature Detection\n\t        $.apollo.browserDetect();\n\n\t        // Setup Mockjax\n\t        $.mockjaxSettings.logging = false;\n\n\t        // Mocking endpoints\n\t        mock.init(api_ns, 'categories', 'mock/res/categories.json');\n\t        mock.init(api_ns, 'adverts', 'mock/res/adverts.json');\n\t        mock.init(api_ns, 'adverts/1', 'mock/res/adverts/1.json');\n\n\t        // Mocking GET:categories\n\t        mock.fetch('api/v1/categories').then(mock.renderCategories).then(_handleRenderCategories);\n\n\t        // Mocking GET:adverts\n\t        mock.fetch('api/v1/adverts').then(mock.renderListing).then(function (res) {\n\t            $('.listing__image-group').apollo('keepAspectRatio', { ratio: 1, calculate: 'height' });\n\t        });\n\n\t        function _handleRenderCategories(res) {\n\t            $.apollo.utilRemovePreloading();\n\t            $('.cat-l1__item').apollo('registerL1Click');\n\t        }\n\t    });\n\t})(jQuery); /** ------------------------------------------------------------------------- *\\\n\t             * Demo.\n\t             * @author Rezki\n\t             ** ------------------------------------------------------------------------- */\n\n/***/ },\n\n/***/ 5:\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\n\texports.init = init;\n\texports.fetch = fetch;\n\texports.renderCategories = renderCategories;\n\texports.renderListing = renderListing;\n\texports.renderDetail = renderDetail;\n\t/** ------------------------------------------------------------------------- *\\\n\t * Mocking helper\n\t * @depends jQuery\n\t * @depends Transparency\n\t * @author Rezki\n\t ** ------------------------------------------------------------------------- */\n\n\tfunction init(ns, endpoint, proxy) {\n\n\t    $.mockjax({\n\t        url: ns + '/' + endpoint,\n\t        proxy: proxy,\n\t        responseTime: 2000\n\t    });\n\t}\n\n\tfunction fetch(url) {\n\n\t    if (typeof url !== 'string' || typeof $ !== 'function') return;\n\n\t    var defer = $.Deferred();\n\n\t    var req = $.ajax({\n\t        url: url,\n\t        dataType: 'json'\n\t    });\n\n\t    req.done(function (res) {\n\t        defer.resolve(res);\n\t    });\n\t    req.fail(function (req, status, err) {\n\t        defer.reject();\n\t    });\n\n\t    return defer.promise();\n\t}\n\n\tfunction renderCategories(res) {\n\n\t    if ((typeof Transparency === 'undefined' ? 'undefined' : _typeof(Transparency)) !== 'object') return;\n\n\t    var rendered,\n\t        defer = $.Deferred();\n\n\t    var _categories = {\n\t        js_catsvg: {\n\t            src: function src(params) {\n\t                return 'asset/image/categories/ic_' + this.code + '.svg';\n\t            }\n\t        },\n\t        js_cathash: {\n\t            // href: function( params ) { return '#catitem__' + this.code; },\n\t            href: function href(params) {\n\t                return '#';\n\t            },\n\t            id: function id(params) {\n\t                return 'catitem__' + this.code;\n\t            }\n\t        },\n\t        js_name_l1: {\n\t            html: function html(params) {\n\t                return this.name;\n\t            }\n\t        },\n\t        children: {\n\t            js_name_l2: {\n\t                html: function html(params) {\n\t                    return this.name;\n\t                }\n\t            },\n\t            js_num_l2: {\n\t                html: function html(params) {\n\t                    return this.num;\n\t                }\n\t            }\n\t        }\n\t    };\n\n\t    rendered = Transparency.render($('#js-cat-l1-group')[0], res, _categories);\n\n\t    setTimeout(function () {\n\t        defer.resolve(rendered);\n\t    }, 300);\n\n\t    return defer.promise();\n\t}\n\n\tfunction renderListing(res) {\n\t    var rendered,\n\t        defer = $.Deferred();\n\n\t    var _advert = {\n\t        js_ad_title: {\n\t            html: function html(params) {\n\t                return this.ad_name;\n\t            }\n\t        },\n\t        js_ad_img_feat: {\n\t            src: function src(params) {\n\t                return this.ad_img_featured.url;\n\t            },\n\t            alt: function alt(params) {\n\t                return this.ad_img_featured.alt;\n\t            }\n\t        },\n\t        js_ad_listing_meta_city: {\n\t            html: function html(params) {\n\t                return this.ad_city;\n\t            }\n\t        },\n\t        js_ad_listing_meta_timeago: {\n\t            html: function html(params) {\n\t                return moment(this.ad_posted).fromNow();\n\t            }\n\t        },\n\t        js_ad_listing_prz: {\n\t            html: function html(params) {\n\t                return accounting.formatMoney(this.ad_price);\n\t            }\n\t        },\n\t        js_ad_listing_price_nego: {\n\t            html: function html(params) {\n\t                return this.ad_price_negotiable > 0 ? 'NEGO' : '';\n\t            }\n\t        }\n\t    };\n\n\t    rendered = Transparency.render($('#js-ad-listing-group')[0], res.adverts, _advert);\n\n\t    defer.resolve(rendered);\n\n\t    return defer.promise();\n\t}\n\n\tfunction renderDetail(res) {\n\t    var rendered,\n\t        defer = $.Deferred();\n\n\t    var _advert = {\n\t        js_ad_title: {\n\t            html: function html(params) {\n\t                return this.ad_name;\n\t            }\n\t        },\n\t        js_ad_detail_gallery: {\n\t            src: function src(params) {\n\t                return this.ad_img_featured.url;\n\t            },\n\t            alt: function alt(params) {\n\t                return this.ad_img_featured.alt;\n\t            }\n\t        },\n\t        js_ad_listing_meta_city: {\n\t            html: function html(params) {\n\t                return this.ad_city;\n\t            }\n\t        },\n\t        js_ad_listing_meta_timeago: {\n\t            html: function html(params) {\n\t                return moment(this.ad_posted).fromNow();\n\t            }\n\t        },\n\t        js_ad_listing_prz: {\n\t            html: function html(params) {\n\t                return accounting.formatMoney(this.ad_price);\n\t            }\n\t        },\n\t        js_ad_listing_price_nego: {\n\t            html: function html(params) {\n\t                return this.ad_price_negotiable > 0 ? 'NEGO' : '';\n\t            }\n\t        },\n\t        js_ad_condition: {\n\t            html: function html(params) {\n\t                return this.ad_condition > 0 ? 'BARU' : 'BEKAS';\n\t            }\n\t        },\n\t        ad_verified: {\n\t            class: function _class(params) {\n\t                return this.ad_verified > 0 ? 'is-verified-seller' : '';\n\t            }\n\t        },\n\t        ad_id: {\n\t            html: function html(params) {\n\t                return this.ad_id;\n\t            }\n\t        },\n\t        ad_seller_name: {\n\t            html: function html(params) {\n\t                return this.seller_name;\n\t            }\n\t        },\n\t        ad_seller_contact: {\n\t            html: function html(params) {\n\t                return this.seller_contact;\n\t            }\n\t        },\n\t        ad_location: {\n\t            html: function html(params) {\n\t                return this.ad_city;\n\t            }\n\t        },\n\t        ad_seller_last_location: {\n\t            hmtl: function hmtl(params) {\n\t                return this.ac_city;\n\t            }\n\t        },\n\t        seller_last_login: {\n\t            hmtl: function hmtl(params) {\n\t                return moment(this.seller_last_login).fromNow();\n\t            }\n\t        },\n\t        seller_registered: {\n\t            hmtl: function hmtl(params) {\n\t                return moment(this.seller_registered).fromNow();\n\t            }\n\t        }\n\t    };\n\n\t    rendered = Transparency.render($('#js-ad-detail-group')[0], res, _advert);\n\n\t    defer.resolve(rendered);\n\n\t    return defer.promise();\n\t}\n\n/***/ }\n\n/******/ });"],"file":"demo.js","sourceRoot":"/source/"}